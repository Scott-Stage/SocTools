function findAllObjectsWithValue(obj, targetValue) {
  const results = [];

  function search(currentObj) {
    for (const key in currentObj) {
      if (currentObj.hasOwnProperty(key)) {
        const value = currentObj[key];

        if (value === targetValue) {
          results.push(currentObj); // Found a match, add the object to results
        }

        if (typeof value === 'object' && value !== null) {
          search(value); // Recursive call for nested objects
        }
      }
    }
  }

  search(obj); // Start the search from the root object
  return results; // Return the array of matching objects
}